---
title: "ESLint ã«ã‚ˆã‚‹ã‚³ãƒ¼ãƒ‰æ¤œæŸ»"
---


## ç« ã®ç›®æ¨™

ã“ã®ç« ã§ã¯ã€å‰ç« ã¾ã§ã«å­¦ã‚“ã  AST ã«é–¢ã™ã‚‹çŸ¥è­˜ãŒã€ç¾å®Ÿçš„ãªå•é¡Œã‚’è§£æ±ºã™ã‚‹éš›ã«ã©ã†å½¹ã«ç«‹ã¤ã‹ã«ã¤ã„ã¦å­¦ã¶ãŸã‚ã«ã€ESLint ã®ã‚«ã‚¹ã‚¿ãƒ ãƒ«ãƒ¼ãƒ«ã‚’ä½œæˆã—ã¾ã™ã€‚å…·ä½“çš„ã«ã¯ã€ä»¥ä¸‹ã®ã‚ˆã†ãªå˜ç´”ãªãƒ«ãƒ¼ãƒ«ã‚’ä½œæˆã™ã‚‹ã“ã¨ã‚’ç›®æ¨™ã¨ã—ã¾ã™:

- ã‚³ãƒ¼ãƒ‰å†…ã®æ–‡å­—åˆ—ã«ã€Œã¬ã‚‹ã½ã€ãŒå«ã¾ã‚Œã¦ã„ã‚‹å ´åˆã€ã€Œã‚¬ãƒƒ ğŸ”¨ã€ã¨ã„ã†è­¦å‘Šæ–‡ã‚’å‡ºã™

åŠåˆ†å†—è«‡ã®ã‚ˆã†ãªå†…å®¹ã§ã™ãŒã€ã“ã†ã—ãŸç°¡å˜ãªãƒ«ãƒ¼ãƒ«ã®ä½œæˆã«ãŠã„ã¦ã‚‚ AST ã®çŸ¥è­˜ãŒé¡”ã‚’å‡ºã™ã“ã¨ã‚’ã¾ãšä½“é¨“ã—ã¦ã‚‚ã‚‰ã†ã“ã¨ãŒç‹™ã„ã§ã™ã€‚ã¾ãŸã€ã“ã“ã§å­¦ã‚“ã æ‰‹æ³•ã‚’å¿œç”¨ã™ã‚‹ã“ã¨ã§ã€ã‚ˆã‚Šè¤‡é›‘ãªãƒ«ãƒ¼ãƒ«ã‚‚ä½œæˆã§ããã†ã ã¨ã„ã†ã“ã¨ã‚‚ç›´è¦³ã§ãã‚‹ã¯ãšã§ã™ã€‚

ã“ã®ã‚«ã‚¹ã‚¿ãƒ ãƒ«ãƒ¼ãƒ«ã‚’ [eslint-plugin-nullpo](https://www.npmjs.com/package/eslint-plugin-nullpo) ã¨ã„ã†åã®ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã¨ã—ã¦ npm ã‹ã‚‰ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã§ãã‚‹ã‚ˆã†ã«ã‚‚ã—ã¦ã‚ã‚Šã¾ã™ã€‚ä»¥ä¸‹ã® StackBlitz ã®ãƒªãƒ³ã‚¯ãªã©ã‹ã‚‰ã€å®Ÿéš›ã®æŒ™å‹•ã‚’ç¢ºèªã—ã¦ã¿ã¦ãã ã•ã„:

<!-- TODO: StackBlitz ã¸ã®ãƒªãƒ³ã‚¯ -->

ãªãŠã€ã“ã®ã€Œã¬ã‚‹ã½ã€ã¨ã€Œã‚¬ãƒƒã€ã¨ã„ã†è¨€è‘‰ã¯ã€ãã®æ˜”ã€åŒ¿åæ²ç¤ºæ¿ [2 ã¡ã‚ƒã‚“ã­ã‚‹](https://ja.wikipedia.org/wiki/2%E3%81%A1%E3%82%83%E3%82%93%E3%81%AD%E3%82%8B)ã«ãŠã„ã¦æµè¡Œã—ãŸä¸€ç¨®ã®ãƒãƒƒãƒˆãƒŸãƒ¼ãƒ ã§ã™ã€‚ã€Œã¬ã‚‹ã½ã€ã¯ NullPointerException ã®ç•¥èªã§ã‚ã‚Šã€ã‚ã‚‹ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒã€Œã¬ã‚‹ã½ã€ã¨æ²ç¤ºæ¿ã«æ›¸ãè¾¼ã‚€ã¨ã€ãã‚Œã‚’è¦‹ãŸä»–ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«ãƒãƒ³ãƒãƒ¼ã§ã€Œã‚¬ãƒƒã€ã•ã‚Œã‚‹ã¨ã„ã†ã€ä¸€ç¨®ã®æ›ã‘åˆã„ãŒãŠã“ãªã‚ã‚Œã¦ã„ã¾ã—ãŸ:

![ã€Œã¬ã‚‹ã½ã€ã¨ã€Œã‚¬ãƒƒã€](/images/abstract-syntax-tree-for-frontend-developers/nullpo.png)
*å‡ºå…¸: https://www.nullpo.org/test/read.cgi/nullpolog/1024553352/*


## ç« ã®æµã‚Œ

ä»¥ä¸‹ã§ã¯ã€ã¾ãš ESLint ã«ã¤ã„ã¦æ¦‚ç•¥ã—ã€ESLint ã‚’æ‹¡å¼µã™ã‚‹ãŸã‚ã®ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚„ã‚«ã‚¹ã‚¿ãƒ ãƒ«ãƒ¼ãƒ«ã«ã¤ã„ã¦èª¬æ˜ã—ã¾ã™ã€‚ãã®ä¸Šã§ã€ãƒãƒ³ã‚ºã‚ªãƒ³å½¢å¼ã«ã‚ˆã‚Šã€ã€Œã¬ã‚‹ã½ã€ã¨ã„ã†æ–‡å­—åˆ—ã‚’æ¤œå‡ºã—ã€Œã‚¬ãƒƒã€ã™ã‚‹ã‚«ã‚¹ã‚¿ãƒ ãƒ«ãƒ¼ãƒ«ã‚’ä½œæˆã—ã¦ã„ãã¾ã™ã€‚ã¾ãŸã€æœ€å¾Œã«ç™ºå±•çš„ãªè©±é¡Œã¨ã—ã¦ã€ESLint ã‚’ä»£æ›¿ã™ã‚‹å¯èƒ½æ€§ã‚’ç§˜ã‚ãŸ Biome ã¨ã€ãã®ãƒ—ãƒ©ã‚°ã‚¤ãƒ³è¨˜è¿°è¨€èªã®å€™è£œ GritQL ã«ã¤ã„ã¦è§¦ã‚Œã¾ã™ã€‚


## ESLint ã¨ãƒ—ãƒ©ã‚°ã‚¤ãƒ³

[ESLint](https://eslint.org/) ã¯ã€JavaScript ã®ã‚³ãƒ¼ãƒ‰ã‚’é™çš„è§£æã—ã€ã‚³ãƒ¼ãƒ‰ã«æ½œã‚€å•é¡Œã‚’æ¤œå‡ºãƒ»ä¿®æ­£ã™ã‚‹ãŸã‚ã®ãƒ„ãƒ¼ãƒ«ã§ã™ã€‚ESLint ã§ã¯ã€ã‚³ãƒ¼ãƒ‰ãŒç‰¹å®šã®è¦å‰‡ã«å¾“ã£ã¦ã„ã‚‹ã‹ã©ã†ã‹ã‚’ãƒã‚§ãƒƒã‚¯ã™ã‚‹ä»•çµ„ã¿ã‚’ãƒ«ãƒ¼ãƒ«ã¨å‘¼ã³ã¾ã™ã€‚å¤šãã®ãƒ«ãƒ¼ãƒ«ãŒåˆã‚ã‹ã‚‰[çµ„ã¿è¾¼ã¾ã‚Œã¦ãŠã‚Š](https://eslint.org/docs/latest/rules/)ã€ä½¿ç”¨ã•ã‚Œã¦ã„ãªã„å¤‰æ•°ã‚’æ¤œå‡ºã™ã‚‹ [no-unused-vars](https://eslint.org/docs/latest/rules/no-unused-vars) ã‚„ã€å¤‰æ•°ã®å‘½åè¦å‰‡ã«ã‚­ãƒ£ãƒ¡ãƒ«ã‚±ãƒ¼ã‚¹ã‚’è¦æ±‚ã™ã‚‹ [camelcase](https://eslint.org/docs/latest/rules/camelcase) ãªã©ãŒãã®ä¾‹ã§ã™ã€‚

ã“ã†ã—ãŸå†…è”µãƒ«ãƒ¼ãƒ«ä»¥å¤–ãŒå¿…è¦ã«ãªã£ãŸå ´åˆã€ESLint ã‚’ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã«ã‚ˆã‚Šæ‹¡å¼µã§ãã¾ã™ã€‚ãŸã¨ãˆã°ã€React ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’æ¤œæŸ»ã™ã‚‹ãŸã‚ã®ãƒ«ãƒ¼ãƒ«ã¯ ESLint æœ¬ä½“ã«ã¯å«ã¾ã‚Œã¦ã„ã¾ã›ã‚“ãŒã€[eslint-plugin-react](https://www.npmjs.com/package/eslint-plugin-react) ã¨ã„ã†ã‚µãƒ¼ãƒ‰ãƒ‘ãƒ¼ãƒ†ã‚£ãƒ¼è£½ã®ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚’ä½¿ç”¨ã™ã‚‹ã“ã¨ã§ã€React ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå°‚ç”¨ã®ãƒ«ãƒ¼ãƒ«ã‚’ ESLint ã«ã‚ˆã‚Šãƒã‚§ãƒƒã‚¯ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚ESLint ã®ã‚³ã‚¢æ©Ÿèƒ½ã‚’æ‹¡å¼µã™ã‚‹ãŸã‚ã®ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã¯ç„¡æ•°ã«ã‚ã‚Šã€ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«å¿œã˜ã¦å¿…è¦ãªãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚’å–æ¨é¸æŠã§ãã‚‹æ‹¡å¼µæ€§ãŒ ESLint ã®å¼·ã¿ã®ä¸€ã¤ã¨ãªã£ã¦ã„ã¾ã™ã€‚

ã¾ãŸã€ã‚µãƒ¼ãƒ‰ãƒ‘ãƒ¼ãƒ†ã‚£ãƒ¼è£½ã®ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã«ã‚ˆã‚Šå¿…è¦ãªæ©Ÿèƒ½ãŒæä¾›ã•ã‚Œã¦ã„ãªã„å ´åˆã«ã¯ã€ç‹¬è‡ªã®ãƒ«ãƒ¼ãƒ«ã‚’ä½œæˆã™ã‚‹ã“ã¨ã‚‚å¯èƒ½ã§ã™ã€‚ã“ã®ç‹¬è‡ªã®ãƒ«ãƒ¼ãƒ«ã¯[ã‚«ã‚¹ã‚¿ãƒ ãƒ«ãƒ¼ãƒ«](https://eslint.org/docs/latest/extend/custom-rules)ã¨å‘¼ã°ã‚Œã¾ã™ã€‚ã‚ã¨ã§è©³ã—ãèª¬æ˜ã—ã¾ã™ãŒã€ã‚«ã‚¹ã‚¿ãƒ ãƒ«ãƒ¼ãƒ«ã¯ä»¥ä¸‹ã®ã‚ˆã†ãªå½¢å¼ã® JavaScript ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã¨ã—ã¦å®šç¾©ã•ã‚Œã¾ã™^[https://eslint.org/docs/latest/extend/custom-rules ã®ã‚µãƒ³ãƒ—ãƒ«ã‚’ç­†è€…ãŒæ”¹å¤‰ã—ã¦å¼•ç”¨ã—ã¾ã—ãŸã€‚]:

```js:customRule.js
module.exports = {
  meta: {
    type: "suggestion",
    docs: {
      description: "ãƒ«ãƒ¼ãƒ«ã®èª¬æ˜",
    },
    fixable: "code",
    schema: [] // ã‚ªãƒ—ã‚·ãƒ§ãƒ³ãªã—
  },
  create: function(context) {
    return {
      // ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯é–¢æ•°
    };
  }
};
```

ã“ã®ãƒ«ãƒ¼ãƒ«ã«ã¯ã€`meta` ã¨ `create` ã¨ã„ã† 2 ã¤ã®ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ãŒå«ã¾ã‚Œã¦ã„ã¾ã™ã€‚`meta` ã¯ãƒ«ãƒ¼ãƒ«ã«é–¢ã™ã‚‹ãƒ¡ã‚¿æƒ…å ±ã‚’å«ã¿ã€ã–ã£ãã‚Šçœºã‚ã‚‹ã ã‘ã§ãƒ«ãƒ¼ãƒ«ã®èª¬æ˜ (`description`) ã‚„ãƒ«ãƒ¼ãƒ«ã®ç¨®é¡ (`type`)ã€ãƒ«ãƒ¼ãƒ«ãŒè‡ªå‹•çš„ã«ä¿®æ­£å¯èƒ½ã‹ã©ã†ã‹ (`fixable`) ãªã©ã®æƒ…å ±ãŒè¨˜è¿°ã•ã‚Œã¦ã„ã‚‹ã“ã¨ãŒã‚ã‹ã‚Šã¾ã™ã€‚`create` ã¯ãƒ«ãƒ¼ãƒ«ã®æœ¬ä½“ã§ã‚ã‚Šã€ESLint ãŒã‚³ãƒ¼ãƒ‰ã® AST ã‚’èµ°æŸ»ã™ã‚‹éš›ã«å‘¼ã³å‡ºã•ã‚Œã‚‹ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯é–¢æ•°ã‚’è¿”ã—ã¾ã™ã€‚ã“ã®ã‚ˆã†ã«å®šç¾©ã•ã‚ŒãŸã‚«ã‚¹ã‚¿ãƒ ãƒ«ãƒ¼ãƒ«ã‚’ã€ä»¥ä¸‹ã®ã‚ˆã†ã« `rules` ã¨ã„ã†ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã«ç™»éŒ²ã—ãŸã‚‚ã®ãŒãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã§ã™:

```js:eslint-plugin-sample.js
const customRule = require("./customRule");
const plugin = {
  rules: {
    "do-something": customRule
  }
};
module.exports = plugin;
```

ã“ã®ã‚ˆã†ã«ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚’å®šç¾©ã™ã‚‹ã“ã¨ã§ã€ESLint ã®è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‹ã‚‰ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚’ç™»éŒ²ã—ã€ã‚«ã‚¹ã‚¿ãƒ ãƒ«ãƒ¼ãƒ«ã«ã‚ˆã‚Šãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå†…ã®ã‚³ãƒ¼ãƒ‰ã‚’æ¤œæŸ»ã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚

ä»¥ä¸Šã«ã‚ˆã‚Šã€ESLint ã®æ¦‚è¦ã¨ã€ã‚«ã‚¹ã‚¿ãƒ ãƒ«ãƒ¼ãƒ«ã‚„ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã®æ„ç¾©ã‚„é–¢ä¿‚ã«ã¤ã„ã¦ç†è§£ã§ããŸã¨ã“ã‚ã§ã€æ¬¡ç¯€ã‹ã‚‰å®Ÿéš›ã«ã‚«ã‚¹ã‚¿ãƒ ãƒ«ãƒ¼ãƒ«ã‚’ä½œæˆã—ã¦ã„ãã¾ã™ã€‚


## ã‚«ã‚¹ã‚¿ãƒ ãƒ«ãƒ¼ãƒ«ä½œæˆã®ãŸã‚ã®æº–å‚™

### ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®æº–å‚™

ã¾ãšã¯ã‚«ã‚¹ã‚¿ãƒ ãƒ«ãƒ¼ãƒ«ã‚’å®Ÿè£…ã™ã‚‹ãŸã‚ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’æº–å‚™ã—ã¾ã—ã‚‡ã†ã€‚ä»¥ä¸‹ã®ã‚³ãƒãƒ³ãƒ‰ã«ã‚ˆã‚Šã€npm ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’åˆæœŸåŒ–ã—ã¦ãã ã•ã„:

```sh
$ mkdir eslint-plugin-nullpo
$ cd eslint-plugin-nullpo
$ npm init -y
```

ç¶šã„ã¦ã€ã‚«ã‚¹ã‚¿ãƒ ãƒ«ãƒ¼ãƒ«ã‚’é…ç½®ã™ã‚‹ãŸã‚ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã¨ã€å¿…è¦ã¨ãªã‚‹ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ãƒ—ãƒ¬ãƒ¼ã‚¹ãƒ›ãƒ«ãƒ€ãƒ¼ã¨ã—ã¦ä½œæˆã—ã¦ãŠãã¾ã™:

```sh
$ mkdir -p src/rules
$ touch src/index.ts src/rules/no-nullpo.ts src/rules/no-nullpo.test.ts
```

å„ãƒ•ã‚¡ã‚¤ãƒ«ã®å½¹å‰²ã¯ä»¥ä¸‹ã®é€šã‚Šã§ã™:

- `src/index.ts`: ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã®ã‚¨ãƒ³ãƒˆãƒªãƒ¼ãƒã‚¤ãƒ³ãƒˆã¨ãªã‚‹ãƒ•ã‚¡ã‚¤ãƒ«ã§ã™ã€‚ã“ã“ã§ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚’å®šç¾©ã— `export` ã—ã¾ã™ã€‚
- `src/rules/no-nullpo.ts`: ã‚«ã‚¹ã‚¿ãƒ ãƒ«ãƒ¼ãƒ«ã®å®Ÿè£…ã‚’è¨˜è¿°ã™ã‚‹ãƒ•ã‚¡ã‚¤ãƒ«ã§ã™ã€‚
- `src/rules/no-nullpo.test.ts`: ã‚«ã‚¹ã‚¿ãƒ ãƒ«ãƒ¼ãƒ«ã®ãƒ†ã‚¹ãƒˆã‚’è¨˜è¿°ã™ã‚‹ãƒ•ã‚¡ã‚¤ãƒ«ã§ã™ã€‚

ãªãŠã€`rules` ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ãƒ«ãƒ¼ãƒ«ã®å®Ÿè£…ã¨ãƒ†ã‚¹ãƒˆã‚’ç½®ã„ã¦ã„ã¾ã™ãŒã€ã“ã‚Œã¯å¿…é ˆã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚è¤‡æ•°ã®ã‚«ã‚¹ã‚¿ãƒ ãƒ«ãƒ¼ãƒ«ã‚’ä½œæˆã™ã‚‹å ´åˆã«ã¯ `rules` ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®ã‚ˆã†ãªå ´æ‰€ã‚’ç”¨æ„ã—ã¦ç®¡ç†ã™ã‚‹ã“ã¨ãŒä¸€èˆ¬çš„^[ãŸã¨ãˆã° [@typescript-eslint/eslint-plugin](https://github.com/typescript-eslint/typescript-eslint/tree/main/packages/eslint-plugin) ã‚„ [eslint-plugin-react](https://github.com/jsx-eslint/eslint-plugin-react) ãªã©ã¯ã“ã®æ§‹æˆã¨ãªã£ã¦ã„ã¾ã™ã€‚]ã§ã™ãŒã€ä»Šå›ã®ã‚ˆã†ã«ãƒ«ãƒ¼ãƒ«ã®æ•°ãŒå°‘ãªã„å ´åˆã¯ãƒ•ãƒ©ãƒƒãƒˆã«é…ç½®ã—ã¦ã‚‚å•é¡Œãªã„ã§ã—ã‚‡ã†ã€‚

### TypeScript ç’°å¢ƒã®æ§‹ç¯‰

ã‚«ã‚¹ã‚¿ãƒ ãƒ«ãƒ¼ãƒ«ã‚’ä½œæˆã™ã‚‹ã«ã‚ãŸã‚Šã€JavaScript ã‚’ä½¿ã†ã“ã¨ã‚‚å¯èƒ½ã§ã™ãŒã€è£œå®Œãªã©ã®æ©æµã‚’å—ã‘ã‚‹ãŸã‚ã« TypeScript ã‚’ä½¿ç”¨ã—ã¾ã™ã€‚ä»¥ä¸‹ã®ã‚³ãƒãƒ³ãƒ‰ã«ã‚ˆã‚Šã€å¿…è¦ãªãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™:

```sh
$ npm install @typescript-eslint/utils
$ npm install @types/node @typescript-eslint/parser @typescript-eslint/rule-tester typescript --save-dev
```

ã‚«ã‚¹ã‚¿ãƒ ãƒ«ãƒ¼ãƒ«ã‚’ä½œæˆã™ã‚‹ã«ã‚ãŸã‚Šç‰¹ã«é‡è¦ãªãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®å½¹å‰²ã¯ä»¥ä¸‹ã® 2 ã¤ã§ã™:

- `@typescript-eslint/utils`: ESLint ã®ã‚«ã‚¹ã‚¿ãƒ ãƒ«ãƒ¼ãƒ«ã‚’ä½œæˆã™ã‚‹ãŸã‚ã® `ESLintUtils` ãªã©ã®ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£é–¢æ•°ã‚’æä¾›ã™ã‚‹ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã§ã™ã€‚[`@typescript-eslint/eslint-plugin`](https://typescript-eslint.io/packages/eslint-plugin) ã®ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã¯ã“ã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’ä½¿ç”¨ã—ã¦ä½œæˆã•ã‚Œã¦ã„ã¾ã™ã€‚è©³ã—ãã¯[ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ](https://typescript-eslint.io/packages/utils)ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚
- `@typescript-eslint/rule-tester`: ESLint ã«çµ„ã¿è¾¼ã¾ã‚Œã¦ã„ã‚‹ [`RuleTester`](https://eslint.org/docs/latest/integrate/nodejs-api#ruletester) ã‚’ãƒ•ã‚©ãƒ¼ã‚¯ã—ã€TypeScript å‘ã‘ã®ãƒ«ãƒ¼ãƒ«ã‚’ãƒ†ã‚¹ãƒˆã™ã‚‹ãŸã‚ã«æ‹¡å¼µã—ãŸãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã§ã™ã€‚ESLint ã® `RuleTester` ã¨åŒæ§˜ã«ã€ã‚ã‚‹ãƒ«ãƒ¼ãƒ«ã«å¯¾ã—ã¦å•é¡Œã®ãªã„ `valid` ãªã‚³ãƒ¼ãƒ‰ä¾‹ã¨ã€å•é¡Œã®ã‚ã‚‹ `invalid` ãªã‚³ãƒ¼ãƒ‰ä¾‹ã¨æœŸå¾…ã•ã‚Œã‚‹ã‚¨ãƒ©ãƒ¼å†…å®¹ã‚’è¨­å®šã—ã€ãƒ«ãƒ¼ãƒ«ãŒæ­£ã—ãå‹•ä½œã™ã‚‹ã‹ã‚’ãƒ†ã‚¹ãƒˆã—ã¾ã™ã€‚è©³ã—ãã¯[ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ](https://typescript-eslint.io/packages/rule-tester)ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚

ç¶šã„ã¦ tsconfig.json ã‚’ä½œæˆã—ã¾ã™ã€‚ä»Šå›ã¯ç°¡æ˜“çš„ã« `tsc` ã«ã‚ˆã‚Šãƒ“ãƒ«ãƒ‰ã™ã‚‹ã“ã¨ã¨ã—ã¾ã™:

```json:tsconfig.json
{
  "include": ["src/**/*.ts"],
  "exclude": ["src/**/*.test.ts"],
  "compilerOptions": {
    "target": "ESNext",
    "module": "NodeNext",
    "outDir": "dist",
    "declaration": true,
    "sourceMap": true,
    "strict": true,
    "esModuleInterop": true,
    "skipLibCheck": true
  }
}
```

æœ€å¾Œã«ã€package.json ã«ãƒ“ãƒ«ãƒ‰ç”¨ã‚³ãƒãƒ³ãƒ‰ã¨ `peerDependencies` ã‚’è¿½åŠ ã—ã¦ãŠãã¾ã—ã‚‡ã†:

```json:package.json
{
  ...
  "scripts": {
    "build": "tsc"
  },
  ...
  "peerDependencies": {
    "eslint": "^9.0.0"
  }
}
```

### ãƒ¡ã‚¿æƒ…å ±ã®è¨˜è¿°

æº–å‚™ãŒã§ããŸã¨ã“ã‚ã§ã€ã‚«ã‚¹ã‚¿ãƒ ãƒ«ãƒ¼ãƒ«ã®å®Ÿè£…ã«å–ã‚Šæ›ã‹ã£ã¦ã„ãã¾ã—ã‚‡ã†ã€‚`src/rules/no-nullpo.ts` ã«ã€ã“ã®ãƒ«ãƒ¼ãƒ«ã®ãƒ¡ã‚¿æƒ…å ±ã‚’è¨˜è¿°ã—ã¾ã™ã€‚ã¾ãšã¯ã€`ESLintUtils` ã‚’ `@typescript-eslint/utils` ã‹ã‚‰ã‚¤ãƒ³ãƒãƒ¼ãƒˆã—ã€`createRule` ã¨ã„ã†ãƒ«ãƒ¼ãƒ«ã‚’ä½œæˆã™ã‚‹ãŸã‚ã®é–¢æ•°ã‚’ä½œæˆã—ã¾ã™:

```ts:src/rules/no-nullpo.ts
import { ESLintUtils } from "@typescript-eslint/utils";

const createRule = ESLintUtils.RuleCreator((name) => name);
```

`ESLintUtils.RuleCreator` ã«ã¯ã€ãƒ«ãƒ¼ãƒ«ã®åå‰ã‚’å¼•æ•°ã«å–ã‚Šã€ãã®ãƒ«ãƒ¼ãƒ«ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã® URL ã‚’è¿”ã™ã‚ˆã†ãªé–¢æ•°ã‚’æ¸¡ã—ã¾ã™ã€‚ãŸã¨ãˆã° `no-foo` ã¨ `no-bar` ã¨ã„ã†è¤‡æ•°ã®ãƒ«ãƒ¼ãƒ«ã‚’ä½œæˆã™ã‚‹å ´åˆã€ãã‚Œãã‚Œã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã® URL ã¯ `https://example.com/docs/rules/no-foo` ã¨ `https://example.com/docs/rules/no-bar` ã®ã‚ˆã†ã«åŒä¸€ã®ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’ã‚‚ã¤ã“ã¨ãŒå¤šã„ã§ã—ã‚‡ã†ã€‚`RuleCreator` ã« URL ç”Ÿæˆé–¢æ•°ã‚’æ¸¡ã™ã“ã¨ã§ã€åŒä¸€ã®ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’ã‚‚ã¤ URL æ–‡å­—åˆ—ã‚’ä½•åº¦ã‚‚æ›¸ã‹ãšã«æ¸ˆã‚€ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚å„ãƒ«ãƒ¼ãƒ«ã«å¯¾ã—ã¦ç”Ÿæˆã•ã‚ŒãŸ URL ã¯ã€ESLint ã®ãƒ«ãƒ¼ãƒ«ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã® `meta.docs.url` ã«è‡ªå‹•çš„ã«è¨­å®šã•ã‚Œã¾ã™ã€‚ä»Šå›ã¯ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã® URL ã¯å­˜åœ¨ã—ãªã„ãŸã‚ã€ä¾¿å®œçš„ã«ãƒ«ãƒ¼ãƒ«åã‚’ãã®ã¾ã¾è¿”ã™ã‚ˆã†ã«ã—ã¦ã„ã‚‹ç‚¹ã«ç•™æ„ã—ã¦ãã ã•ã„ã€‚

ç¶šã„ã¦ã€ä¸Šã§ä½œæˆã—ãŸ `createRule` ã‚’ä½¿ã£ã¦ãƒ«ãƒ¼ãƒ«ã‚’ä½œæˆã—ã¾ã™:

```ts:src/rules/no-nullpo.ts
export const rule = createRule({
  create(context) {
    // TODO: ãƒ«ãƒ¼ãƒ«ã®å®Ÿè£…
  },
  name: "no-nullpo",
  meta: {
    type: "problem",
    docs: {
      description: "Smack ã¬ã‚‹ã½ (nullpo) with a hammer",
    },
    messages: {
      "ga!": "ã‚¬ãƒƒ ğŸ”¨",
    },
    schema: [],
  },
  defaultOptions: [],
});
```

`name` ã«ã¯ã‚«ã‚¹ã‚¿ãƒ ãƒ«ãƒ¼ãƒ«ã®åå‰ã‚’è¨˜è¿°ã—ã¾ã™ã€‚ä»Šå›ã¯ã€ã¬ã‚‹ã½ (nullpo) ã‚’ç¦æ­¢ã™ã‚‹ãƒ«ãƒ¼ãƒ«ã§ã‚ã‚‹ãŸã‚ `no-nullpo` ã¨ã„ã†åå‰ã‚’ä»˜ã‘ã¦ã„ã¾ã™^[ãƒ«ãƒ¼ãƒ«åã«é–¢ã™ã‚‹å³å¯†ãªè¦å‰‡ã¯ã‚ã‚Šã¾ã›ã‚“ãŒã€ä½•ã‹ã‚’ç¦æ­¢ã™ã‚‹ã‚ˆã†ãªãƒ«ãƒ¼ãƒ«ã®åå‰ã«ã¯ `no-` ã‚„ `ban-` ã‚’ãƒ—ãƒ¬ãƒ•ã‚£ãƒƒã‚¯ã‚¹ã¨ã—ã¦ä»˜ã‘ã‚‹ã“ã¨ãŒå¤šã„ã§ã™ã€‚]ã€‚

`meta` ã«ã¯ãƒ«ãƒ¼ãƒ«ã®ãƒ¡ã‚¿æƒ…å ±ã‚’è¨˜è¿°ã—ã¾ã™ã€‚ã“ã“ã§è¨­å®šã—ã¦ã„ã‚‹å„å€¤ã®æ„å‘³ã¯ä»¥ä¸‹ã®é€šã‚Šã§ã™:

- `type`: ãƒ«ãƒ¼ãƒ«ã®ç¨®é¡ã‚’æŒ‡å®šã—ã¾ã™ã€‚æŒ‡å®šå¯èƒ½ãªå€¤ã¯ä»¥ä¸‹ã¨ãªã‚Šã¾ã™:
  - `"problem"`: ã‚¨ãƒ©ãƒ¼ã‚„ã‚ã‹ã‚Šã¥ã‚‰ã„æŒ™å‹•ã‚’å¼•ãèµ·ã“ã—å¾—ã‚‹ã‚ˆã†ãªã‚³ãƒ¼ãƒ‰ã‚’æŒ‡æ‘˜ã—ã¾ã™ã€‚
  - `"suggestion"`: ã‚¨ãƒ©ãƒ¼ã‚’ç™ºç”Ÿã•ã›ã‚‹ã‚ã‘ã§ã¯ãªã„ãŒã€ã‚ˆã‚Šè‰¯ã„ã‚³ãƒ¼ãƒ‰ã®æ›¸ãæ–¹ã‚’ææ¡ˆã—ã¾ã™ã€‚
  - `"layout"`: ç©ºç™½ã‚„ã‚»ãƒŸã‚³ãƒ­ãƒ³ãªã©ã€ã‚³ãƒ¼ãƒ‰ã®è¦‹ãŸç›®ã«é–¢ã™ã‚‹å•é¡Œã‚’æŒ‡æ‘˜ã—ã¾ã™ã€‚
- `docs`: 
- `messages`: ãƒ«ãƒ¼ãƒ«ãŒå‡ºåŠ›ã™ã‚‹ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®ãƒªã‚¹ãƒˆã§ã™ã€‚ã‚­ãƒ¼ã«ã¯ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã® ID ã‚’ã€å€¤ã«ã¯ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®å†…å®¹ã‚’è¨˜è¿°ã—ã¾ã™ã€‚ã“ã“ã§ã¯ã€Œã¬ã‚‹ã½ã€ã‚’æ¤œå‡ºã—ãŸéš›ã«å‡ºåŠ›ã—ãŸã„ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã§ã‚ã‚‹ã€Œã‚¬ãƒƒ ğŸ”¨ã€ã‚’ `ga!` ã¨ã„ã† ID ã§ç™»éŒ²ã—ã¦ã„ã¾ã™ã€‚
- `schema`: ãƒ«ãƒ¼ãƒ«ã®ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’æŒ‡å®šã™ã‚‹ãŸã‚ã®ã‚¹ã‚­ãƒ¼ãƒã‚’è¨˜è¿°ã—ã¾ã™ã€‚ã‚ªãƒ—ã‚·ãƒ§ãƒ³ãŒãªã„å ´åˆã¯ç©ºã®é…åˆ—ã‚’æŒ‡å®šã—ã¾ã™ã€‚

`defaultOptions` ã«ã¯ã€ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã®ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤ã‚’æŒ‡å®šã—ã¾ã™ã€‚ä»Šå›ã¯ã‚ªãƒ—ã‚·ãƒ§ãƒ³ãŒãªã„ãŸã‚ç©ºã®é…åˆ—ã‚’æŒ‡å®šã—ã¦ã„ã¾ã™ã€‚

`create` ãƒ¡ã‚½ãƒƒãƒ‰å†…ã«ãƒ«ãƒ¼ãƒ«ã®æœ¬ä½“ã‚’è¨˜è¿°ã—ã¾ã™ã€‚å…·ä½“çš„ãªå®Ÿè£…ã«ã¤ã„ã¦ã¯å¾Œè¿°ã—ã¾ã™ã®ã§ã€ä»Šã¯ãƒ—ãƒ¬ãƒ¼ã‚¹ãƒ›ãƒ«ãƒ€ãƒ¼ã¨ã—ã¦ã‚³ãƒ¡ãƒ³ãƒˆã‚’æ®‹ã—ã¦ãŠãã¾ã™ã€‚


### ãƒ†ã‚¹ãƒˆã®ä½œæˆ

ãƒ«ãƒ¼ãƒ«ã‚’å®Ÿè£…ã™ã‚‹å‰ã«ãƒ†ã‚¹ãƒˆã‚’æ›¸ã„ã¦ãŠãã¾ã—ã‚‡ã†ã€‚ä¸Šè¿°ã—ãŸã‚ˆã†ã«ã€ESLint ã«ã¯ `RuleTester` ã¨ã„ã†ãƒ«ãƒ¼ãƒ«ã‚’ãƒ†ã‚¹ãƒˆã™ã‚‹ãŸã‚ã®ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ãŒç”¨æ„ã•ã‚Œã¦ãŠã‚Šã€`@typescript-eslint/rule-tester` ã¯ã“ã‚Œã‚’ TypeScript å‘ã‘ã«æ‹¡å¼µã—ãŸã‚‚ã®ã‚’æä¾›ã—ã¦ã„ã¾ã™ã€‚`src/rules/no-nullpo.test.ts` ã«ã€`RuleTester` ã‚’ä½¿ã£ãŸãƒ†ã‚¹ãƒˆã®éª¨çµ„ã¿ã‚’è¨˜è¿°ã—ã¾ã—ã‚‡ã†:

```ts:src/rules/no-nullpo.test.ts
import { RuleTester } from "@typescript-eslint/rule-tester";

import { rule } from "./no-nullpo";

const ruleTester = new RuleTester();

ruleTester.run("no-nullpo", rule, {
  valid: [],
  invalid: [],
});
```

`@typescript-eslint/rule-tester` ã‹ã‚‰ã‚¤ãƒ³ãƒãƒ¼ãƒˆã—ãŸ `RuleTester` ã‚’åˆæœŸåŒ–ã—ã€ãã® `run` ãƒ¡ã‚½ãƒƒãƒ‰ã«ãƒ«ãƒ¼ãƒ«åã€ãƒ«ãƒ¼ãƒ«ã®å®Ÿä½“ã€ãã—ã¦ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ã§ã‚ã‚‹ `valid` ã¨ `invalid` ã‚’æ¸¡ã—ã¾ã™ã€‚`valid` ã«ã¯å•é¡Œã®ãªã„ã‚³ãƒ¼ãƒ‰ä¾‹ã€`invalid` ã«ã¯å•é¡Œã®ã‚ã‚‹ã‚³ãƒ¼ãƒ‰ä¾‹ã‚’è¨˜è¿°ã—ã¾ã™ã€‚

ã¨ã“ã‚ã§ã€ESLint ã® `RuleTester` ã¯ãƒ†ã‚¹ãƒˆå®Ÿè¡Œã®ãŸã‚ã« `afterAll` ãªã©ã®ã‚°ãƒ­ãƒ¼ãƒãƒ«ãªãƒ•ãƒƒã‚¯ãŒå®Ÿè¡Œç’°å¢ƒã«å­˜åœ¨ã—ã¦ã„ã‚‹ã“ã¨ã‚’å‰æã¨ã—ã¦ã„ã¾ã™ã€‚ä»Šå›ã¯ãƒ†ã‚¹ãƒˆãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã¨ã—ã¦ [Vitest](https://vitest.dev/) ã‚’ä½¿ç”¨ã—ã€ãã“ã§æä¾›ã•ã‚Œã‚‹ãƒ•ãƒƒã‚¯ã‚’ `RuleTester` ã«ç™»éŒ²ã—ã¾ã™ã€‚ã¾ãšã¯ Vitest ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™:

```sh
$ npm install vitest --save-dev
```

ç¶šã„ã¦ã€`RuleTester` ã‚’åˆæœŸåŒ–ã™ã‚‹ç›´å‰ã§ãƒ•ãƒƒã‚¯ã‚’ç™»éŒ²ã—ã¾ã™:

```ts:src/rules/no-nullpo.test.ts
// ...

import * as vitest from "vitest";

// ...

RuleTester.afterAll = vitest.afterAll;
RuleTester.it = vitest.it;
RuleTester.itOnly = vitest.it.only;
RuleTester.describe = vitest.describe;

const ruleTester = new RuleTester();
```

ã•ã‚‰ã«ã€ãƒ†ã‚¹ãƒˆç”¨ã®ã‚³ãƒãƒ³ãƒ‰ã‚’ `package.json` ã«è¿½åŠ ã—ã¦ãŠãã¾ã—ã‚‡ã†:

```json:package.json
{
  ...
  "scripts": {
    "build": "tsc",
    "test": "vitest"
  },
  ...
}
```

ã“ã‚Œã§ãƒ†ã‚¹ãƒˆã‚’è¨˜è¿°ã™ã‚‹ãŸã‚ã®æº–å‚™ãŒæ•´ã„ã¾ã—ãŸã€‚ç¾æ™‚ç‚¹ã§ãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œã™ã‚‹ã¨ã€ä»¥ä¸‹ã®ã‚ˆã†ã«ãƒ†ã‚¹ãƒˆãŒå­˜åœ¨ã—ãªã„ã¨ã„ã†ã‚¨ãƒ©ãƒ¼ãŒè¡¨ç¤ºã•ã‚Œã‚‹ã¯ãšã§ã™:

```sh
$ npm run test
 DEV  v2.0.5 /home/foo/dev/eslint-plugin-nullpo

 â¯ src/rules/no-nullpo.test.ts (0)
   â¯ no-nullpo (0)

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯ Failed Suites 2 â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯

 FAIL  src/rules/no-nullpo.test.ts [ src/rules/no-nullpo.test.ts ]
Error: No test found in suite src/rules/no-nullpo.test.ts
â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[1/2]â¯

 FAIL  src/rules/no-nullpo.test.ts > no-nullpo
Error: No test found in suite no-nullpo
â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[2/2]â¯

 Test Files  1 failed (1)
      Tests  no tests
   Start at  19:02:02
   Duration  567ms (transform 28ms, setup 0ms, collect 414ms, tests 2ms, environment 0ms, prepare 43ms)


 FAIL  Tests failed. Watching for file changes...
       press h to show help, press q to quit
```

ãã‚Œã§ã¯ã€å®Ÿéš›ã«ãƒ†ã‚¹ãƒˆã‚’æ›¸ã„ã¦ã„ãã¾ã™ã€‚ã¾ãšå•é¡Œã®ãªã„ã‚±ãƒ¼ã‚¹ã§ã‚ã‚‹ `valid` ã«ã¤ã„ã¦è€ƒãˆã¾ã™ã€‚ã“ã†ã—ãŸã‚±ãƒ¼ã‚¹ã¯ç„¡æ•°ã«è€ƒãˆã‚‰ã‚Œã¾ã™ãŒã€ã“ã“ã§ã¯ã€Œã¬ã‚‹ã½ã€ã‚’å«ã¾ãªã„æ–‡å­—åˆ—ã®ä½¿ç”¨ã‚’ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ã¨ã—ã¾ã™:

```ts:src/rules/no-nullpo.test.ts
ruleTester.run("no-nullpo", rule, {
  valid: [`const hoge = "ã‚¬ãƒƒ";`],
  invalid: [],
});
```

ç¶šã„ã¦å•é¡Œã®ã‚ã‚‹ã‚±ãƒ¼ã‚¹ã§ã‚ã‚‹ `invalid` ã§ã™ãŒã€ã“ã¡ã‚‰ã¯é€†ã«ã€Œã¬ã‚‹ã½ã€ã‚’å«ã‚€æ–‡å­—åˆ—ã‚’ä½¿ç”¨ã™ã‚‹ã‚³ãƒ¼ãƒ‰ã‚’æŒ‡å®šã—ã¾ã™:

```ts:src/rules/no-nullpo.test.ts
ruleTester.run("no-nullpo", rule, {
  valid: [`const hoge = "ã‚¬ãƒƒ";`],
  invalid: [
    { code: `const nullpo = "ã¬ã‚‹ã½";`, errors: [{ messageId: "ga!" }] },
  ],
});
```

`invalid` ã®è¦ç´ ã¨ãªã‚‹ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã«ã¯ã€`code` ã«å•é¡Œã®ã‚ã‚‹ã‚³ãƒ¼ãƒ‰ä¾‹ã‚’ã€`errors` ã«ã¯ãã®ã‚³ãƒ¼ãƒ‰ä¾‹ã«å¯¾ã—ã¦ç™ºç”Ÿã™ã‚‹ã“ã¨ãŒæœŸå¾…ã•ã‚Œã‚‹ã‚¨ãƒ©ãƒ¼ã‚’æŒ‡å®šã—ã¾ã™ã€‚ã™ã§ã« `createRule` ã® `meta.messages` ã«ãŠã„ã¦æœŸå¾…ã•ã‚Œã‚‹ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ç™»éŒ²ã—ã¦ã‚ã‚‹ãŸã‚ã€ã“ã“ã§ã¯ãã® ID ã‚’ç”¨ã„ã¦ã‚¨ãƒ©ãƒ¼ã‚’æŒ‡å®šã—ã¦ã„ã¾ã™ã€‚

ã“ã®æ®µéšã§ãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œã™ã‚‹ã¨ã€ã¾ã ãƒ«ãƒ¼ãƒ«ã‚’å®Ÿè£…ã—ã¦ã„ãªã„ãŸã‚ã€`invalid` ã«æŒ‡å®šã—ãŸã‚³ãƒ¼ãƒ‰ã«å¯¾ã—ã¦ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã›ãšãƒ†ã‚¹ãƒˆãŒå¤±æ•—ã™ã‚‹ã¯ãšã§ã™:

```sh
 FAIL  src/rules/no-nullpo.test.ts > no-nullpo > invalid > const nullpo = "ã¬ã‚‹ã½";
AssertionError: Should have 1 error but had 0: []

- Expected
+ Received

- 1
+ 0
```

ã“ã‚Œã§ãƒ«ãƒ¼ãƒ«ã‚’å®Ÿè£…ã™ã‚‹ãŸã‚ã®æº–å‚™ãŒæ•´ã„ã¾ã—ãŸï¼ã‚ã¨ã¯ã“ã®ãƒ†ã‚¹ãƒˆã‚’é€šã™ã“ã¨ãŒã‚´ãƒ¼ãƒ«ã¨ãªã‚Šã¾ã™ã€‚


## ã‚«ã‚¹ã‚¿ãƒ ãƒ«ãƒ¼ãƒ«ã®ä½œæˆ

### ãƒ«ãƒ¼ãƒ«ã®å®Ÿè£…

ã“ã“ã‹ã‚‰ã¯å®Ÿéš›ã«ã‚«ã‚¹ã‚¿ãƒ ãƒ«ãƒ¼ãƒ«ã®å®Ÿè£…ã‚’ãŠã“ãªã£ã¦ã„ãã¾ã™ã€‚ä¸Šã§ TODO ã¨ã—ã¦ã„ãŸ `create` é–¢æ•°ã®ä¸­èº«ã‚’åŸ‹ã‚ã¦ã„ãã¾ã—ã‚‡ã†ã€‚

`create` ã¯ã€å¼•æ•°ã« `context` ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’å–ã‚Šã€ESLint ãŒ AST ã‚’èµ°æŸ»ã—ã¦ã„ã‚‹éš›ã«å‘¼ã³å‡ºã•ã‚Œã‚‹ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯é–¢æ•°ã‚’ç™»éŒ²ã—ãŸã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’è¿”ã—ã¾ã™ã€‚å…·ä½“çš„ã«ã¯ã€ä»¥ä¸‹ã®ã‚ˆã†ãªã‚³ãƒ¼ãƒ‰ã¨ãªã‚Šã¾ã™:

```ts
create(context) {
  return {
    // ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯é–¢æ•°ã‚’ç™»éŒ²
  };
}
```

`context` ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã¯ã€ãã®åã®é€šã‚Šã€ESLint ãŒã‚³ãƒ¼ãƒ‰ã‚’ãƒã‚§ãƒƒã‚¯ã™ã‚‹éš›ã®ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã‚’ä¿æŒã—ã¾ã™ã€‚ãŸã¨ãˆã°ãƒã‚§ãƒƒã‚¯å¯¾è±¡ã®ãƒ•ã‚¡ã‚¤ãƒ«ã«é–¢ã™ã‚‹æƒ…å ±ã‚„ã€ä½¿ç”¨ã—ã¦ã„ã‚‹ãƒ‘ãƒ¼ã‚µãƒ¼ãªã©ã®æƒ…å ±ãŒå«ã¾ã‚Œã¦ãŠã‚Šã€ã“ã‚Œã‚‰ã®æƒ…å ±ã‚’ãƒ«ãƒ¼ãƒ«ã®å®Ÿè£…ã«å½¹ç«‹ã¦ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚ã¾ãŸã€`context` ã«ã¯è¤‡æ•°ã®ãƒ¡ã‚½ãƒƒãƒ‰ã‚‚ç™»éŒ²ã•ã‚Œã¦ãŠã‚Šã€ãã®ä¸­ã§ã‚‚æœ€ã‚‚é‡è¦ãªã‚‚ã®ãŒ `report` ã§ã™ã€‚`report` ãƒ¡ã‚½ãƒƒãƒ‰ã¯ã€ã‚³ãƒ¼ãƒ‰å†…ã®å•é¡Œã‚’æ¤œå‡ºã—ãŸéš›ã« ESLint ã«å¯¾ã—ã¦ãã®æ—¨ã‚’ä¼ãˆã‚‹ãŸã‚ã®ãƒ¡ã‚½ãƒƒãƒ‰ã§ã‚ã‚Šã€ã‚«ã‚¹ã‚¿ãƒ ãƒ«ãƒ¼ãƒ«ã‚’ä½œæˆã™ã‚‹éš›ã«ã¯å¿…ãšä½¿ç”¨ã—ã¾ã™ã€‚ãŸã¨ãˆã°ã€`createRule` ã«ãŠã„ã¦ `messages` ã« `foo` ã¨ã„ã† ID ã§ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ç™»éŒ²ã—ã¦ãŠã‚Šã€ãã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ä½¿ã£ã¦ã‚¨ãƒ©ãƒ¼ã‚„è­¦å‘Šã‚’ ESLint ã«ä¼ãˆã‚‹ã«ã¯ã€ä»¥ä¸‹ã®ã‚ˆã†ã« `report` ãƒ¡ã‚½ãƒƒãƒ‰ã‚’å‘¼ã³å‡ºã—ã¾ã™:

```ts
context.report({
  node,
  messageId: "foo",
});
```

`report` ã«ã¯ã€ã“ã‚Œä»¥å¤–ã«ã‚‚å•é¡Œã®ç™ºç”Ÿç®‡æ‰€ã‚’ç¤ºã™ `loc` ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚„ã€å•é¡Œã‚’è§£æ¶ˆã™ã‚‹ãŸã‚ã® `fix` é–¢æ•°ãªã©ã‚’æ¸¡ã™ã“ã¨ã‚‚ã§ãã¾ã™ãŒã€ã“ã“ã§ã¯å®Ÿè£…ã‚’ã‚·ãƒ³ãƒ—ãƒ«ã«ä¿ã¤ãŸã‚ã« `messageId` ã®ã¿ã‚’ä½¿ç”¨ã—ã¦ã‚¨ãƒ©ãƒ¼ãƒ¬ãƒãƒ¼ãƒˆã‚’ãŠã“ãªã„ã¾ã™ã€‚

ç¶šã„ã¦ã€`create` ãŒè¿”ã™ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã«ã¤ã„ã¦èª¬æ˜ã—ã¾ã™ã€‚ã“ã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã¯ã€ã€ŒAST å†…ã®ã‚ã‚‹ãƒãƒ¼ãƒ‰ã«å¯¾ã—ã€ãƒ«ãƒ¼ãƒ«ã«é©åˆã—ã¦ã„ã‚‹ã‹ã©ã†ã‹ã‚’åˆ¤å®šã™ã‚‹ãŸã‚ã®é–¢æ•°ã‚’ä¸ãˆã‚‹ã€ã“ã¨ã‚’ç›®çš„ã¨ã—ã¾ã™ã€‚ãã“ã§æŒ‡å®šã•ã‚ŒãŸé–¢æ•°ã«ã¯å¼•æ•°ã¨ã—ã¦ãƒãƒ¼ãƒ‰ãŒä¸ãˆã‚‰ã‚Œã‚‹ãŸã‚ã€ãã‚Œã‚’ã‚‚ã¨ã«å•é¡Œã®æœ‰ç„¡ã‚’åˆ¤å®šã—ã€å•é¡ŒãŒã‚ã‚‹å ´åˆã¯ä¸Šè¿°ã—ãŸ `report` ãƒ¡ã‚½ãƒƒãƒ‰ã‚’å‘¼ã³å‡ºã™ã‚ã‘ã§ã™ã€‚ãŸã¨ãˆã° `ReturnStatement` ãƒãƒ¼ãƒ‰ã«å¯¾ã—ã¦é–¢æ•°ã‚’ç™»éŒ²ã™ã‚‹ã«ã¯ä»¥ä¸‹ã®ã‚ˆã†ã«è¨˜è¿°ã—ã¾ã™:

```ts
create(context) {
  return {
    ReturnStatement(node) {
      // ReturnStatement ãƒãƒ¼ãƒ‰ã«å¯¾ã™ã‚‹å‡¦ç†
    },
  };
}
```

`node` ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆãŒã‚‚ã¤ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã¯ã€ãƒãƒ¼ãƒ‰ã®ç¨®é¡ã«ã‚ˆã‚Šç•°ãªã‚Šã¾ã™ã€‚ãŸã¨ãˆã°ä¸Šã® `ReturnStatement` ã®å ´åˆã€`node` ã¯ä»¥ä¸‹ã®ã‚ˆã†ãªãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’ã‚‚ã¡ã¾ã™:

- `type`: ãƒãƒ¼ãƒ‰ã®ç¨®é¡ã‚’è¡¨ã‚ã™æ–‡å­—åˆ—
- `argument`: `ReturnStatement` ãŒè¿”ã™å€¤ã‚’è¡¨ã‚ã™ãƒãƒ¼ãƒ‰
- `range`: ãƒãƒ¼ãƒ‰ã®ãƒ•ã‚¡ã‚¤ãƒ«å†…ã§ã®é–‹å§‹ä½ç½®ã¨çµ‚äº†ä½ç½®ã‚’è¡¨ã‚ã™é…åˆ—ã€`[number, number]` ã¨ã„ã†æ§‹é€ ã‚’ã‚‚ã¤
- `loc`: ãƒãƒ¼ãƒ‰ã®é–‹å§‹ä½ç½®ã¨çµ‚äº†ä½ç½®ã‚’è¡¨ã‚ã™ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã€`{ start: { line: number, column: number }, end: { line: number, column: number } }` ã¨ã„ã†æ§‹é€ ã‚’ã‚‚ã¤
- `parent`: ãƒãƒ¼ãƒ‰ã®è¦ªãƒãƒ¼ãƒ‰

å¹¸ã„ã€ãƒã‚§ãƒƒã‚¯å¯¾è±¡ã®ãƒãƒ¼ãƒ‰ãŒã©ã®ã‚ˆã†ãªãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’ã‚‚ã¤ã‹ã¯ã€ã‚¨ãƒ‡ã‚£ã‚¿ãƒ¼ã®è£œå®Œæ©Ÿèƒ½ã‚’ä½¿ã£ã¦ç°¡å˜ã«èª¿ã¹ã‚‹ã“ã¨ãŒã§ãã‚‹ãŸã‚ã€å¿…è¦ã«å¿œã˜ã¦éƒ½åº¦ç¢ºèªã™ã‚‹ã“ã¨ã‚’å¿ƒæ›ã‘ã¾ã—ã‚‡ã†ã€‚

ä»¥ä¸Šã‚’ç·åˆã™ã‚‹ã¨ã€`create` é–¢æ•°ã‚’å®Ÿè£…ã™ã‚‹ãŸã‚ã®åŸºæœ¬çš„ãªæµã‚Œã¯ä»¥ä¸‹ã®ã‚ˆã†ã«ãªã‚Šã¾ã™:

1. æ¤œæŸ»å¯¾è±¡ã¨ãªã‚‹ãƒãƒ¼ãƒ‰ã‚’ç‰¹å®šã™ã‚‹
2. ãƒãƒ¼ãƒ‰ã«å¯¾ã—ã¦å•é¡Œã®æœ‰ç„¡ã‚’åˆ¤å®šã™ã‚‹å‡¦ç†ã‚’è¨˜è¿°ã™ã‚‹
3. å•é¡ŒãŒã‚ã‚‹å ´åˆã¯ `report` ãƒ¡ã‚½ãƒƒãƒ‰ã‚’å‘¼ã³å‡ºã™

ãã‚Œã§ã¯ã¾ãšã€`no-nullpo` ãƒ«ãƒ¼ãƒ«ã‚’å®Ÿè£…ã™ã‚‹ã«ã‚ãŸã‚Šã€æ¤œæŸ»å¯¾è±¡ã¨ãªã‚‹ãƒãƒ¼ãƒ‰ã‚’ç‰¹å®šã—ã¾ã—ã‚‡ã†ã€‚typescript-eslint ã®å ´åˆã€å†…éƒ¨ã§ä½¿ç”¨ã•ã‚Œã‚‹ãƒ‘ãƒ¼ã‚µãƒ¼ã¯ `@typescript-eslint/parser`ã€æ­£ç¢ºã«ã¯ [`@typescript-eslint/typescript-estree`](https://typescript-eslint.io/packages/typescript-estree) ã§ã™ãŒã€ã“ã®ãƒ‘ãƒ¼ã‚µãƒ¼ã¯ ESTree äº’æ›ã® AST ã‚’ç”Ÿæˆã—ã€å†…éƒ¨ã§ä½¿ç”¨ã•ã‚Œã‚‹ãƒãƒ¼ãƒ‰ã®ç¨®é¡ã®æ•°ã¯[éå¸¸ã«è†¨å¤§](https://typescript-eslint.io/packages/typescript-estree/ast-spec)ã§ã™ã€‚ãã®ãŸã‚ã€å¯¾è±¡ã¨ãªã‚‹ãƒãƒ¼ãƒ‰ã‚’æ¢ã™ã“ã¨ã¯éå¸¸ã«éª¨ãŒæŠ˜ã‚Œã‚‹ä½œæ¥­ã®ã‚ˆã†ã«æ€ãˆã¾ã™ãŒã€å®Ÿéš›ã«ã¯ [AST Explorer](https://astexplorer.net/) ãªã©ã®ãƒ„ãƒ¼ãƒ«ã‚’ä½¿ã†ã“ã¨ã§ã€å¤šãã®å ´åˆã¯ãƒãƒ¼ãƒ‰ã‚’ç‰¹å®šå¯èƒ½ã§ã™ã€‚ä»¥ä¸‹ã¯ã€AST Explorer ã«ã¦ `const nullpo = "ã¬ã‚‹ã½";` ã¨ã„ã†ã‚³ãƒ¼ãƒ‰ã‚’å…¥åŠ›ã—ãŸéš›ã®ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆã§ã™:

![AST Explorer ã®ä½¿ç”¨ä¾‹](/images/abstract-syntax-tree-for-frontend-developers/nullpo-ast.png)

ã“ã“ã‹ã‚‰ã€å¯¾è±¡ã®ãƒãƒ¼ãƒ‰ã®ç¨®é¡ãŒ `Literal` ã§ã‚ã‚‹ã¨ã„ã†å½“ãŸã‚Šã‚’ã¤ã‘ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚å¿µã®ç‚ºã«é…åˆ—ã®ä¸­ã®æ–‡å­—åˆ—ã‚„ return æ–‡ã®ä¸­ã®æ–‡å­—åˆ—ãªã©ã‚‚åŒã˜ `Literal` ãƒãƒ¼ãƒ‰ã§ã‚ã‚‹ã“ã¨ã‚’ç¢ºèªã—ã¦ã¿ã¦ãã ã•ã„ã€‚ã“ã‚Œã«ã‚ˆã‚Šã€æ¤œæŸ»å¯¾è±¡ã¨ãªã‚‹ãƒãƒ¼ãƒ‰ãŒ `Literal` ã§ã‚ã‚‹ã“ã¨ãŒã‚ã‹ã‚Šã¾ã—ãŸã®ã§ã€`create` é–¢æ•°ã‚’æ¬¡ã®ã‚ˆã†ã«æ›¸ãæ›ãˆã¾ã—ã‚‡ã†:

```ts:src/rules/no-nullpo.ts
create(context) {
  return {
    Literal(node) {
      // TODO: åˆ¤å®šå‡¦ç†ã®å®Ÿè£…
    },
  };
}
```

ã•ã¦ã€ç¶šã„ã¦ã¯ã“ã® `Literal` ãƒãƒ¼ãƒ‰ãŒã€Œã¬ã‚‹ã½ã€ã‚’å«ã‚€æ–‡å­—åˆ—ã‹ã©ã†ã‹ã®åˆ¤å®šå‡¦ç†ã‚’è¨˜è¿°ã—ã¾ã™ã€‚`Literal` ãƒãƒ¼ãƒ‰ã¯ã€ãã®åå‰ã®é€šã‚Šãƒªãƒ†ãƒ©ãƒ«ã‚’è¡¨ã‚ã™ãƒãƒ¼ãƒ‰ã§ã‚ã‚Šã€æ–‡å­—åˆ—ä»¥å¤–ã®å€¤ã‚’ã‚‚ã£ã¦ã„ã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚ã‚ˆã£ã¦ã€`node` ã‚’é€šã˜ã¦å€¤ãŒæ–‡å­—åˆ—ã‹ã©ã†ã‹ã‚’ã¾ãšåˆ¤å®šã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ãŒã€`node` ã¯ `value` ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’ã‚‚ã£ã¦ãŠã‚Šã€ã“ã“ã«ãƒªãƒ†ãƒ©ãƒ«è‡ªä½“ã®å€¤ãŒæ ¼ç´ã•ã‚Œã¦ã„ã‚‹ãŸã‚ã€ãã®å‹ã‚’ `typeof` æ¼”ç®—å­ã‚’ä½¿ã£ã¦åˆ¤å®šã—ã¾ã™:

```ts:src/rules/no-nullpo.ts
create(context) {
  return {
    Literal(node) {
      if (typeof node.value === "string") {
        // node.value ã¯æ–‡å­—åˆ—
      }
    },
  };
}
```

ç¶šã„ã¦ã€æ–‡å­—åˆ—ãŒã€Œã¬ã‚‹ã½ã€ã‚’å«ã‚€ã‹ã©ã†ã‹ã‚’åˆ¤å®šã—ã¾ã™ãŒã€ã“ã‚Œã«ã¯ã¾ãŸ `node.value` ã‚’ä½¿ãˆã°è‰¯ã•ãã†ã§ã™:

```ts:src/rules/no-nullpo.ts
create(context) {
  return {
    Literal(node) {
      if (typeof node.value === "string" && node.value.includes("ã¬ã‚‹ã½")) {
        // node.value ã¯æ–‡å­—åˆ—ã§ã€"ã¬ã‚‹ã½" ã‚’å«ã‚€
      }
    },
  };
}
```

ã“ã‚Œã§å•é¡ŒãŒã‚ã‚‹ã‹ã©ã†ã‹ã®åˆ¤å®šå‡¦ç†ã®è¨˜è¿°ãŒå®Œäº†ã—ã¾ã—ãŸã€‚æœ€å¾Œã«ã€`report` ãƒ¡ã‚½ãƒƒãƒ‰ã«ã‚ˆã‚Šã‚³ãƒ¼ãƒ‰ã«å•é¡ŒãŒã‚ã‚‹æ—¨ã‚’ ESLint ã«ä¼é”ã—ã¾ã—ã‚‡ã†:

```ts:src/rules/no-nullpo.ts
create(context) {
  return {
    Literal(node) {
      if (typeof node.value === "string" && node.value.includes("ã¬ã‚‹ã½")) {
        context.report({
          node,
          messageId: "ga!",
        });
      }
    },
  };
}
```

ã“ã‚Œã§ `no-nullpo` ãƒ«ãƒ¼ãƒ«ã®å®Ÿè£…ãŒå®Œäº†ã—ã¾ã—ãŸï¼ã‚ã¨ã¯ãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œã—ã¦ã€å•é¡Œãªãé€šã‚‹ã“ã¨ã‚’ç¢ºèªã—ã¾ã—ã‚‡ã†:

```sh
$ npm run test
 DEV  v2.0.5 /Users/foo/dev/eslint-plugin-nullpo

 âœ“ src/rules/no-nullpo.test.ts (2)
   âœ“ no-nullpo (2)
     âœ“ valid (1)
       âœ“ const hoge = "ã‚¬ãƒƒ";
     âœ“ invalid (1)
       âœ“ const nullpo = "ã¬ã‚‹ã½";

 Test Files  1 passed (1)
      Tests  2 passed (2)
   Start at  01:02:19
   Duration  572ms (transform 30ms, setup 0ms, collect 395ms, tests 25ms, environment 0ms, prepare 42ms)


 PASS  Waiting for file changes...
       press h to show help, press q to quit
```

`src/rules/no-nullpo.ts` ã®å…¨ä½“ã¯ä»¥ä¸‹ã¨ãªã‚Šã¾ã™:

```ts:src/rules/no-nullpo.ts
import { ESLintUtils } from "@typescript-eslint/utils";

const createRule = ESLintUtils.RuleCreator((name) => name);

export const rule = createRule({
	create(context) {
		return {
			Literal(node) {
				if (typeof node.value === "string" && node.value.includes("ã¬ã‚‹ã½")) {
					context.report({
						node,
						messageId: "ga!",
					});
				}
			},
		};
	},
	name: "no-nullpo",
	meta: {
		type: "problem",
		docs: {
			description: "Smack ã¬ã‚‹ã½ (nullpo) with a hammer",
		},
		messages: {
			"ga!": "ã‚¬ãƒƒ ğŸ”¨",
		},
		schema: [],
	},
	defaultOptions: [],
});
```

ä»¥ä¸Šã«ã‚ˆã‚Šã€ç›®çš„ã¨ã—ã¦ã„ãŸã‚«ã‚¹ã‚¿ãƒ ãƒ«ãƒ¼ãƒ«ã‚’å®Ÿè£…ã™ã‚‹ã“ã¨ãŒã§ãã¾ã—ãŸãŒã€å‰ç« ã¾ã§ã«å­¦ã‚“ã  AST ã®çŸ¥è­˜ãŒæ´»ãã‚‹ã“ã¨ã‚’å®Ÿæ„Ÿã§ããŸã®ã§ã¯ãªã„ã§ã—ã‚‡ã†ã‹ã€‚ã¾ãŸã€ä¸Šã®å®Ÿä¾‹ã‚’ãƒ™ãƒ¼ã‚¹ã¨ã—ã¦ã€ãŸã¨ãˆã°ã€Œ`nullpo` ã¨ã„ã†å¤‰æ•°ã«ã¯ç‰¹å®šã®æ–‡å­—åˆ—ãŒæ ¼ç´ã•ã‚Œã‚‹å¿…è¦ãŒã‚ã‚‹ã€ã¨ã„ã£ãŸãƒ«ãƒ¼ãƒ«ã‚’æ–°ãŸã«ä½œæˆã™ã‚‹ã“ã¨ã¨ãªã£ãŸã¨ã—ã¦ã‚‚ã€AST ã‚’èª¿ã¹ã¦å¯¾è±¡ã®ãƒãƒ¼ãƒ‰ã‚’ç‰¹å®šã—ã€åˆ¤å®šå‡¦ç†ã‚’å®Ÿè£…ã™ã‚‹ã¨ã„ã†å…·ä½“çš„ãªã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’ã‚‚ã¦ã‚‹ã‚ˆã†ã«ãªã£ãŸã¯ãšã§ã™ã€‚

ã‚«ã‚¹ã‚¿ãƒ ãƒ«ãƒ¼ãƒ«ã®ä½œæˆè‡ªä½“ã¯ä»¥ä¸Šã§å®Œäº†ã§ã™ãŒã€æœ€å¾Œã«ã“ã®ãƒ«ãƒ¼ãƒ«ã‚’ãƒ—ãƒ©ã‚°ã‚¤ãƒ³åŒ–ã—ã€å®Ÿéš›ã«ä»–ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§åˆ©ç”¨ã§ãã‚‹ã“ã¨ã‚’ç¢ºèªã—ã¾ã—ã‚‡ã†ã€‚

### ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã®ä½œæˆ

### å‹•ä½œç¢ºèª

### æ¨å¥¨è¨­å®šã®è¿½åŠ 


## Biome ã¨ GritQL


## å‚è€ƒ

- [ESLint](https://eslint.org/): ESLint ã®å…¬å¼ã‚µã‚¤ãƒˆ
- [Create Plugins](https://eslint.org/docs/latest/extend/plugins): ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã®æ¦‚ç•¥
- [Custom Rules](https://eslint.org/docs/latest/extend/custom-rules): ã‚«ã‚¹ã‚¿ãƒ ãƒ«ãƒ¼ãƒ«ã®ãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹
- [RuleTester](https://eslint.org/docs/latest/integrate/nodejs-api#ruletester): `RuleTester` ã®ãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹
- [Building Custom Rules](https://typescript-eslint.io/developers/custom-rules): typescript-eslint ã«ã‚ˆã‚Šã‚«ã‚¹ã‚¿ãƒ ãƒ«ãƒ¼ãƒ«ã‚’ä½œæˆã™ã‚‹ãŸã‚ã®ã‚¬ã‚¤ãƒ‰
- [Building ESLint Plungins](https://typescript-eslint.io/developers/eslint-plugins): typescript-eslint ã«ã‚ˆã‚Šãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚’ä½œæˆã™ã‚‹ãŸã‚ã®ã‚¬ã‚¤ãƒ‰
- [utils](https://typescript-eslint.io/packages/utils): `@typescript-eslint/utils` ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ
- [rule-tester](https://typescript-eslint.io/packages/rule-tester): `@typescript-eslint/rule-tester` ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ
- [eslint-plugin-example-typed-linting](https://github.com/typescript-eslint/examples/tree/main/packages/eslint-plugin-example-typed-linting): `@typescript-eslint/utils` ã‚’ä½¿ç”¨ã—ã¦ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚’ä½œæˆã™ã‚‹å…¬å¼ã®ã‚µãƒ³ãƒ—ãƒ«
- [Biome](https://biomejs.dev/): Biome ã®å…¬å¼ã‚µã‚¤ãƒˆ
- [RFC: Biome plugins](https://github.com/biomejs/biome/discussions/1649): Biome ã®ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã«é–¢ã™ã‚‹ãƒ‡ã‚£ã‚¹ã‚«ãƒƒã‚·ãƒ§ãƒ³
- [RFC: Biome Plugins Proposal](https://github.com/biomejs/biome/discussions/1762): ä¸Šã®ãƒ‡ã‚£ã‚¹ã‚«ãƒƒã‚·ãƒ§ãƒ³ã‚’å—ã‘ã¦ææ¡ˆã•ã‚ŒãŸ Biome ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã®ä»•æ§˜
