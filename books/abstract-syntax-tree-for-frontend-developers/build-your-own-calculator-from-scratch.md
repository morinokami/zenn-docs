---
title: "簡易な計算機の作成を通じて AST に親しむ"
---

この章では、簡易な計算機アプリの作成を通じて、自ら AST を組み立て、それを評価し計算結果を出力する方法について学びます。これにより、プログラムが実際にどのように解釈・実行されるのかに対する基礎的な理解を深められるはずです。また、AST を直接組み立て触れ合うことで、AST をぐっと身近なものとして感じられるようになるでしょう。

計算機アプリの作成にあたっては [Deno](https://deno.com/) を使用します。Deno が手元のマシンにインストールされていない場合は、[公式ドキュメント](https://docs.deno.com/runtime/manual/)に従ってインストールしてください。


## 流れ


## 字句解析

ここで作成する計算機の機能は、文字列を入力として受け取り、何らかの計算結果を出力するというものです。その際、文字列を文字列のまま扱うことも可能ですが、たとえば `"2 + 3 * 4"` と `"2  + (3 * 4)"` のように同じ計算を表わす文字列は複数存在するため、計算を表わす任意の文字列に対する処理を考えることは簡単ではありません。そこで、括弧やスペースなど、計算に不要な要素を取り除いた状態へとまず変換し、それに対して評価をおこなうことを考えます。そのための第一歩としておこなうのが字句解析です。

字句解析 (lexical analysis) とは、与えられた文字列をトークン (token) と呼ばれる最小の単位に分割する処理のことです。たとえば、`"(2 + 3) * 4"` という文字列は、`(`、`2`、`+`、`3`、`)`、`*`、`4` というトークンに分割されます。こうしたトークンへの分割をおこなうプログラムを字句解析器 (lexical analyzer、lexer、tokenizer など) と呼び、この節ではその実装をおこないます。


## 構文解析


## インタープリター


## 参考

- [Writing An Interpreter In Go](https://interpreterbook.com/)
- [RubyでつくるRuby](https://www.lambdanote.com/collections/ruby-ruby)
- [Crafting Interpreters](https://craftinginterpreters.com/)
