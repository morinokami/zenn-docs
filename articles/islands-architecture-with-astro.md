---
title: "Astro ã§ Islands Architecture ã‚’å§‹ã‚ã‚ˆã†"
emoji: "ğŸï¸"
type: "tech" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢
topics: ["astro", "islands", "architecture"]
published: false
---

# ã¯ã˜ã‚ã«

ã“ã®è¨˜äº‹ã§ã¯ã€ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã®ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ãƒ‘ã‚¿ãƒ¼ãƒ³ã® 1 ã¤ã§ã‚ã‚‹ Islands Architecture ã«é–¢ã™ã‚‹æ¦‚å¿µçš„ãªèª¬æ˜ã‚’ãŠã“ã£ãŸä¸Šã§ã€[Astro](https://astro.build/) ã«ãŠã„ã¦ Islands Architecture ã‚’ã©ã®ã‚ˆã†ã«å®Ÿç¾ã™ã‚‹ã‹ã«ã¤ã„ã¦ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«çš„ã«è§£èª¬ã—ã¾ã™ã€‚Astro ã¯ [2022 å¹´ã® 8 æœˆã« v1 ãŒãƒªãƒªãƒ¼ã‚¹ã•ã‚ŒãŸ](https://astro.build/blog/astro-1/)ã°ã‹ã‚Šã§ã‚ã‚Šã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚‚ã¾ã ãã‚Œã»ã©å¤šãã¯ãªã„ã¨æ€ã‚ã‚Œã‚‹ãŸã‚ã€ãªã‚‹ã¹ãå‰æçŸ¥è­˜ãŒãªã„æ–¹ã§ã‚‚ç†è§£ã§ãã‚‹ã‚ˆã†ã«å„ã‚¹ãƒ†ãƒƒãƒ—ã®èª¬æ˜ã‚’ç´°ã‹ãå™›ã¿ç •ã„ã¦ãŠã“ãªã†ã¤ã‚‚ã‚Šã§ã™ã€‚

# Astro ã¨ Islands Architecture

Astro ã¯ã€ãã®å“²å­¦ã®ä¸€ã¤ã¨ã—ã¦ Server-first ã‚’æ²ã’ã¦ã„ã¾ã™ã€‚ãã®å¿ƒã¯ã€SPA ã§ã¯ãªã MPAã€ã™ãªã‚ã¡ãƒ‡ãƒ—ãƒ­ã‚¤æ™‚ã« Static Generation ã‚’ãŠã“ãªã„ã€ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ JavaScript ã‚’æ¶ˆå»ã™ã‚‹ã€ã¨ã„ã†æˆ¦ç•¥ã¨ãªã‚Šã¾ã™ã€‚ãã®çµæœã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒå—ã‘å–ã‚‹ãƒ•ã‚¡ã‚¤ãƒ«ã¯ HTML ã‚„ CSS ãªã©ã®ã¿ã¨ãªã‚Šã€ãƒ•ã‚¡ã‚¤ãƒ«ãƒ­ãƒ¼ãƒ‰æ™‚é–“ã‚„ TTI ã®çŸ­ç¸®ã‚’é”æˆã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’é‡è¦–ã™ã‚‹ã¨ã„ã†ç«‹å ´ã‚’æ˜ç¢ºã«ã™ã‚‹ã“ã¨ã§ã€ä¸€ç¨®ã®å…ˆç¥–è¿”ã‚Šã¨ã‚‚è¨€ãˆã‚‹ MPA ã¸ã¨å¸°ç€ã™ã‚‹ã“ã¨ã«ãªã£ãŸã‚ã‘ã§ã™ãŒã€ã“ã†ã—ãŸã‚¹ã‚¿ãƒ³ã‚¹ã‚„å®Ÿéš›ã®å‹•ä½œé€Ÿåº¦ã€ã¾ãŸãã® DX ãªã©ã«ã‚ˆã‚Šãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚’ç€å®Ÿã«å¢—ã‚„ã—ç¶šã‘ã¦ã„ã¾ã™ã€‚

ã•ã¦ã€ã“ã®ã‚ˆã†ã«æ›¸ãã¨ã€Astro ã§ã¯ Static Generation ã—ã‹ã§ããšã€ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–ãªã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®ä½¿ç”¨ã‚„å‹•çš„ãªãƒšãƒ¼ã‚¸ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã¯ã§ããªã„ã®ã‹ã€ã¨ã„ã†ç–‘å•ãŒç”Ÿã˜ã‚‹ã¯ãšã§ã™ã€‚ãã—ã¦ç­”ãˆã¯ã‚‚ã¡ã‚ã‚“ No ã¨ãªã‚Šã¾ã™ã€‚Astro ã§ã¯ SSR ãŒã‚µãƒãƒ¼ãƒˆã•ã‚Œã¦ãŠã‚Šã€ã—ãŸãŒã£ã¦å‹•çš„ã«ãƒšãƒ¼ã‚¸å†…å®¹ã‚’æ›¸ãæ›ãˆã‚‹ã“ã¨ã¯å¯èƒ½ã§ã™ã€‚ã¾ãŸåŒæ§˜ã«ã€Astro ã§ã¯ React ã‚„ Vueã€Svelte ãªã©ã€å¥½ã¿ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ä½¿ç”¨ã—ã¦ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ä½œæˆã—ã€ãƒšãƒ¼ã‚¸å†…ã«ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–ãªãƒ‘ãƒ¼ãƒ„ã¨ã—ã¦é…ç½®ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚ãã—ã¦ã€ã“ã†ã—ãŸã€Œã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–ãª UI ã‚’é™çš„ãªãƒšãƒ¼ã‚¸ã«åŸ‹ã‚è¾¼ã‚€ã€ã¨ã„ã†ç™ºæƒ³ã“ãã€ã“ã®è¨˜äº‹ã®ãƒ†ãƒ¼ãƒã§ã‚ã‚‹ Islands Architecture ã®æ ¸å¿ƒã¨ãªã‚Šã¾ã™ã€‚

Islands Architecture ã¯ã€Etsy ç¤¾ã®ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒˆã§ã‚ã‚‹ Katie Sylor-Miller ã«ã‚ˆã£ã¦ç€æƒ³ã•ã‚Œã€Preact ã®ä½œè€…ã§ã‚ã‚‹ Jason Miller ã®ä»¥ä¸‹ã®è¨˜äº‹ã«ã‚ˆã£ã¦å…·ä½“åŒ–ã•ã‚ŒèªçŸ¥ã•ã‚Œã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸ:

https://jasonformat.com/islands-architecture/

ä¸Šã®è¨˜äº‹ã«ã‚ˆã‚Œã°ã€Islands Architecture ã¨ã¯

* ã‚µãƒ¼ãƒãƒ¼ã§å„ãƒšãƒ¼ã‚¸ã® HTML ã‚’ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã™ã‚‹
* ãƒšãƒ¼ã‚¸å†…ã®å‹•çš„ãªé ˜åŸŸã« placeholders/slots ã‚’é…ç½®ã—ã¦ãŠã
* placeholders/slots ã«ã¯ã€å‹•çš„ãªãƒ‘ãƒ¼ãƒ„ã«å¯¾å¿œã™ã‚‹ HTML ãŒå«ã¾ã‚Œã‚‹
* ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆä¸Šã§ã“ã‚Œã‚‰ã®å‹•çš„ãªé ˜åŸŸã‚’ãƒã‚¤ãƒ‰ãƒ¬ãƒ¼ãƒˆã™ã‚‹

ã¨ã„ã†ç‰¹å¾´ã‚’ã‚‚ã¤ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ãƒ‘ã‚¿ãƒ¼ãƒ³ã§ã™ã€‚ã“ã“ã§è¿°ã¹ãŸ placeholders/slots ã“ã islands ã§ã‚ã‚Šã€Islands Architecture ã¨ã¯ã€å¤§æµ·åŸã«ç‚¹åœ¨ã™ã‚‹å³¶ã®ã‚ˆã†ã«é™çš„ HTML å†…ã«å‹•çš„ãª UI ãƒ‘ãƒ¼ãƒ„ã‚’é…ç½®ã™ã‚‹ã¨ã„ã†ã€ãƒšãƒ¼ã‚¸ã®æ§‹æˆãƒ¡ã‚«ãƒ‹ã‚ºãƒ ã‚’æŒ‡ã—ã¾ã™ã€‚

ã¾ãŸã€

ãªãŠã€Astro ä»¥å¤–ã® Islands Architecture ã«åŸºã¥ããƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã«ã¯ã€ãŸã¨ãˆã°ä»¥ä¸‹ã®ã‚ˆã†ãªã‚‚ã®ãŒã‚ã‚Šã¾ã™:

* Marko
* Iles
* is-land
* Fresh

ãã®ä»–ã«ã‚‚ Islands Architecture ã«å¯¾å¿œã—ãŸæ•°å¤šãã®ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ãŒã‚ã‚‹ãŸã‚ã€æ°—ã«ãªã£ãŸæ–¹ã¯ https://github.com/lxsmnsyc/awesome-islands ãªã©ã‹ã‚‰èˆˆå‘³ã®ã‚ã‚‹ã‚‚ã®ã‚’è©¦ã—ã¦ã¿ã¦ãã ã•ã„ã€‚

# Astro ã«ãŠã‘ã‚‹ Islands ã®å°å…¥

ç¶šã„ã¦ã€Astro ã§ React ãªã©ã® UI ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ Islands ã¨ã—ã¦ä½¿ç”¨ã™ã‚‹ãŸã‚ã®æ–¹æ³•ã«ã¤ã„ã¦è¿°ã¹ã¾ã™ã€‚

Astro ã«ã¯ã€ã„ã‚ã‚†ã‚‹ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã®ã‚ˆã†ã«ã€ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«æ‰‹è»½ã«æ©Ÿèƒ½ã‚’è¿½åŠ ã™ã‚‹ãŸã‚ã®ä»•çµ„ã¿ã¨ã—ã¦ã‚¤ãƒ³ãƒ†ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ (Integration) ã¨ã„ã†ã‚‚ã®ãŒã‚ã‚Šã¾ã™ã€‚ã‚¤ãƒ³ãƒ†ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã¯ã€å¤§ã¾ã‹ã«

* React ã‚„ Vue ãªã©ã® UI ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ Astro ã«ãŠã„ã¦ä½¿ç”¨ã™ã‚‹ãŸã‚ã®ã‚‚ã®
* Netlify ã‚„ Vercelã€Cloudflare Pages ãªã©ã®ãƒ›ã‚¹ãƒ†ã‚£ãƒ³ã‚°ã‚µãƒ¼ãƒ“ã‚¹ã¨ã®é€£æºã‚’ãŠã“ãªã†ãŸã‚ã®ã‚‚ã® (ã“ã‚Œã‚‰ã¯ã‚¢ãƒ€ãƒ—ã‚¿ãƒ¼ (Adapter) ã¨å‘¼ã°ã‚Œã¾ã™)
* Tailwind CSS ã®æœ‰åŠ¹åŒ–ã€ã‚µã‚¤ãƒˆãƒãƒƒãƒ—ã®è‡ªå‹•ç”Ÿæˆã€Image ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®ä½¿ç”¨ã€ãªã©ãã®ä»–ã®ã‚«ãƒ†ã‚´ãƒª

ã¨ã„ã† 3 ç¨®é¡ã«åˆ†é¡ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚ã“ã®è¨˜äº‹ã§ã¯ UI ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ Islands ã¨ã—ã¦å‹•ã‹ã—ãŸã„ãŸã‚ã€ä¸€ç•ªä¸Šã®ã‚«ãƒ†ã‚´ãƒªãŒé‡è¦ã§ã™ã€‚

ã•ã¦ã€ã‚¤ãƒ³ãƒ†ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã«ã¤ã„ã¦ç†è§£ã§ããŸã¨ã“ã‚ã§ã€Astro ã«ãŠã„ã¦ Islands ã‚’å‹•ã‹ã™ãŸã‚ã®å¤§ã¾ã‹ãªæµã‚Œã‚’è¿°ã¹ã‚‹ã¨ã€ä»¥ä¸‹ã®ã‚ˆã†ã«ãªã‚Šã¾ã™:

1. Astro ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã™ã‚‹
2. ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã« UI ãƒ©ã‚¤ãƒ–ãƒ©ãƒªç”¨ã®ã‚¤ãƒ³ãƒ†ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã‚’è¿½åŠ ã™ã‚‹
3. UI ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ç”¨ã„ã¦ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ä½œæˆã™ã‚‹
4. ä½œæˆã—ãŸã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ `.astro` ãƒ•ã‚¡ã‚¤ãƒ«å†…ã§ä½¿ç”¨ã—ã€ãƒã‚¤ãƒ‰ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã®æ–¹é‡ã‚’ãƒ‡ã‚£ãƒ¬ã‚¯ãƒ†ã‚£ãƒ–ã«ã‚ˆã£ã¦æŒ‡ç¤ºã™ã‚‹

ã‚¹ãƒ†ãƒƒãƒ— 4 ãŒå°‘ã—è¤‡é›‘ã§ã™ãŒã€ä»¥ä¸‹ã§ä¾‹ã‚’ç”¨ã„ã¦èª¬æ˜ã—ã¦ã„ãã¾ã™ã®ã§ã€ã”å®‰å¿ƒãã ã•ã„ã€‚

## Astro ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

Astro ã«ã¯ã€ä»–ã®ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã‚„ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã¨åŒæ§˜ã«ã€ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’è‡ªå‹•ã§ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã™ã‚‹ãŸã‚ã®ã‚³ãƒãƒ³ãƒ‰ãŒç”¨æ„ã•ã‚Œã¦ã„ã¾ã™ã€‚ä»Šå›ã¯ã“ã®ã‚³ãƒãƒ³ãƒ‰ã‚’ç”¨ã„ã¦ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½œæˆã—ã¾ã™:

```sh
$ pnpm create astro@latest
â•­â”€â”€â”€â”€â”€â•®  Houston:
â”‚ â—  â—¡ â—   Initiating launch sequence... right... now!
â•°â”€â”€â”€â”€â”€â•¯

 astro   v1.9.1 Launch sequence initiated.

âœ” Where would you like to create your new project? â€¦ my-first-islands
âœ” How would you like to setup your new project? â€º a few best practices (recommended)
âœ” Template copied!
âœ” Would you like to install pnpm dependencies? (recommended) â€¦ yes
âœ” Packages installed!
âœ” Would you like to initialize a new git repository? (optional) â€¦ yes
âœ” Git repository created!
âœ” How would you like to setup TypeScript? â€º Strict
âœ” TypeScript settings applied!

  next   Liftoff confirmed. Explore your project!

         Enter your project directory using cd ./my-first-islands 
         Run pnpm dev to start the dev server. CTRL+C to stop.
         Add frameworks like react or tailwind using astro add.

         Stuck? Join us at https://astro.build/chat

â•­â”€â”€â”€â”€â”€â•®  Houston:
â”‚ â—  â—¡ â—   Good luck out there, astronaut!
â•°â”€â”€â”€â”€â”€â•¯
```

ä»Šå›ã¯ pnpm ã‚’ç”¨ã„ã¦ã„ã¾ã™ãŒã€npm ã®å ´åˆã¯ `npm create astro@latest` ã‚’ã€yarn ã®å ´åˆã¯ `yarn create astro` ã‚’å®Ÿè¡Œã—ã¦ãã ã•ã„ã€‚ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®åå‰ã‚„ã€ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’ãã®å ´ã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹ã‹ã©ã†ã‹ã€Git ãƒªãƒã‚¸ãƒˆãƒªã‚’ä½œæˆã™ã‚‹ã‹ã©ã†ã‹ãªã©ã€ã„ãã¤ã‹ã®è³ªå•ã‚’ã•ã‚Œã¾ã™ãŒã€ä»Šå›ã¯ã™ã¹ã¦ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®ã¾ã¾ã«ã—ã¦ã‚ã‚Šã¾ã™ã€‚

ãªãŠã€ã“ã®ã‚³ãƒãƒ³ãƒ‰ã‚’ä½¿ç”¨ã™ã‚‹ã¨ Astro ã®ãƒã‚¹ã‚³ãƒƒãƒˆã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ã§ã‚ã‚‹ Houston^[ãªãŠã€Houston ã®ãƒ­ã‚´ã‚«ãƒ©ãƒ¼ã‚’ãƒ™ãƒ¼ã‚¹ã¨ã—ã¦ä½œæˆã•ã‚ŒãŸ [Astro å…¬å¼ã® VS Code ãƒ†ãƒ¼ãƒ](https://marketplace.visualstudio.com/items?itemName=astro-build.houston)ã‚‚å­˜åœ¨ã—ã¾ã™ã€‚] ãŒå‡ºè¿ãˆã¦ãã‚Œã¾ã™ã€‚ã‹ã‚ã„ã„ã§ã™ã­ã€‚

ç„¡äº‹ã«ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ãŒå®Œäº†ã—ãŸã‚‰ã€ä»¥ä¸‹ã®ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¦ Astro ã®é–‹ç™ºã‚µãƒ¼ãƒãƒ¼ã‚’èµ·å‹•ã—ã¦ã¿ã¾ã—ã‚‡ã†:

```sh
$ cd my-first-islands
$ pnpm run dev

> @example/basics@0.0.1 dev /home/foo/dev/my-first-islands
> astro dev

  ğŸš€  astro  v1.9.1 started in 58ms
  
  â”ƒ Local    http://localhost:3000/
  â”ƒ Network  use --host to expose

```

ãƒ–ãƒ©ã‚¦ã‚¶ã§ http://localhost:3000/ ã‚’é–‹ãã¨ã€ä»¥ä¸‹ã®ãƒšãƒ¼ã‚¸ãŒè¡¨ç¤ºã•ã‚Œã¾ã™:

![](/images/islands-architecture-with-astro/welcome.png)

## ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã« React ç”¨ã®ã‚¤ãƒ³ãƒ†ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã‚’è¿½åŠ ã™ã‚‹

æ¬¡ã«ã€ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã« UI ãƒ©ã‚¤ãƒ–ãƒ©ãƒªç”¨ã®ã‚¤ãƒ³ãƒ†ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã‚’è¿½åŠ ã—ã¾ã™ã€‚ä»Šå›ã¯ Astro ãŒã‚µãƒãƒ¼ãƒˆã—ã¦ã„ã‚‹ UI ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®ä¸­ã‹ã‚‰ React ã‚’é¸æŠã—ã¾ã™ã€‚ä»–ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ä½¿ç”¨ã™ã‚‹å ´åˆã§ã‚‚ã€åŒã˜ã‚ˆã†ãªæµã‚Œã¨ãªã‚‹ã¯ãšã§ã™ã€‚

ã‚¤ãƒ³ãƒ†ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã‚’è¿½åŠ ã™ã‚‹ãŸã‚ã«ã¯ã€

* å¿…è¦ãªãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
* Astro ã®è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã«ã¦ã‚¤ãƒ³ãƒ†ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã‚’é©ç”¨
* tsconfig.json ã®æ›´æ–°

ãªã©ã®ã‚¹ãƒ†ãƒƒãƒ—ãŒå¿…è¦ã§ã™ã€‚Astro ã«ã¯ã€ã“ã‚Œã‚‰ã®ã‚¹ãƒ†ãƒƒãƒ—ã‚’è‡ªå‹•åŒ–ã™ã‚‹ãŸã‚ã® `astro add` ã‚³ãƒãƒ³ãƒ‰ãŒç”¨æ„ã•ã‚Œã¦ã„ã‚‹ãŸã‚ã€ä»Šå›ã¯ãã‚Œã‚’åˆ©ç”¨ã—ã¾ã™:

```sh
$ pnpm astro add react

> @example/basics@0.0.1 astro /home/foo/dev/my-first-islands
> astro "add" "react"

âœ” Resolving packages...

  Astro will run the following command:
  If you skip this step, you can always run it yourself later

 â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
 â”‚ pnpm add @astrojs/react @types/react-dom@^18.0.6 @types/react@^18.0.21 react-dom@^18.0.0 react@^18.0.0  â”‚
 â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯

âœ” Continue? â€¦ yes
âœ” Installing dependencies...

  Astro will make the following changes to your config file:

 â•­ astro.config.mjs â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
 â”‚ import { defineConfig } from 'astro/config';  â”‚
 â”‚                                               â”‚
 â”‚ // https://astro.build/config                 â”‚
 â”‚ import react from "@astrojs/react";           â”‚
 â”‚                                               â”‚
 â”‚ // https://astro.build/config                 â”‚
 â”‚ export default defineConfig({                 â”‚
 â”‚   integrations: [react()]                     â”‚
 â”‚ });                                           â”‚
 â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯

âœ” Continue? â€¦ yes
  
   success  Added the following integration to your project:
  - @astrojs/react

  Astro will make the following changes to your tsconfig.json:

 â•­ tsconfig.json â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
 â”‚ {                                       â”‚
 â”‚   "extends": "astro/tsconfigs/strict",  â”‚
 â”‚   "compilerOptions": {                  â”‚
 â”‚     "jsx": "react-jsx",                 â”‚
 â”‚     "jsxImportSource": "react"          â”‚
 â”‚   }                                     â”‚
 â”‚ }                                       â”‚
 â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯

âœ” Continue? â€¦ yes
  
   success  Successfully updated TypeScript settings
```

ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã™ã‚‹ã¨ã€ã“ã‚Œã‹ã‚‰ã©ã®ã‚ˆã†ãªå¤‰æ›´ãŒãŠã“ãªã‚ã‚Œã‚‹ã‹ãŒèª¬æ˜ã•ã‚Œã€ãã‚Œã‚’å®Ÿè¡Œã—ã¦æ§‹ã‚ãªã„ã‹ã©ã†ã‹ã‚’ç¢ºèªã™ã‚‹ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆãŒè¡¨ç¤ºã•ã‚Œã‚‹ã€ã¨ã„ã†æµã‚ŒãŒè¤‡æ•°å›ç¹°ã‚Šè¿”ã•ã‚Œã¾ã™ã€‚ä»Šå›ã¯ã™ã¹ã¦ yes ã‚’é¸æŠã—ã¾ã—ãŸã€‚

ä»¥ä¸Šã«ã‚ˆã‚Šã€Astro ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«ãŠã„ã¦ React ã‚’ä½¿ç”¨ã™ã‚‹ãŸã‚ã®æº–å‚™ãŒæ•´ã„ã¾ã—ãŸã€‚

## React ã‚’ç”¨ã„ã¦ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ä½œæˆã™ã‚‹

ç¶šã„ã¦ã€React ã‚’ç”¨ã„ã¦ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ä½œæˆã—ã¦ã¿ã¾ã—ã‚‡ã†ã€‚

Astro ã§ã¯ä¸€èˆ¬ã«ã€å†åˆ©ç”¨å¯èƒ½ãªã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¯ `src/components` ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªä»¥ä¸‹ã«é…ç½®ã—ã¾ã™ã€‚ä»Šå›ã¯ React ã®è¤‡é›‘ãªæ©Ÿèƒ½ã¯ç‰¹ã«ç”¨ã„ãšã€ä»¥ä¸‹ã®ã‚ˆã†ãªå˜ç´”ãªã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ã¾ãšã¯ä½œæˆã—ã¦ã¿ã¾ã™:

```tsx:src/components/MyFirstIsland.tsx
export function MyFirstIsland() {
  return (
    <div>Rendered by react</div>
  );
}
```

## ä½œæˆã—ãŸã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ä½¿ç”¨ã™ã‚‹

ãã‚Œã§ã¯ã€ä¸Šã§ä½œæˆã—ãŸã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ä½¿ç”¨ã—ã¦ã¿ã¾ã—ã‚‡ã†ã€‚

# Astro ã«ãŠã‘ã‚‹ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ãƒ‘ã‚¿ãƒ¼ãƒ³ã¨ Prerender API

# ãŠã‚ã‚Šã«

# å‚è€ƒ

https://docs.astro.build/en/concepts/islands/
https://jasonformat.com/islands-architecture/
https://dev.to/this-is-learning/is-0kb-of-javascript-in-your-future-48og
https://changelog.com/jsparty/105
https://www.patterns.dev/posts/islands-architecture/
https://dev.to/this-is-learning/resumability-wtf-2gcm
